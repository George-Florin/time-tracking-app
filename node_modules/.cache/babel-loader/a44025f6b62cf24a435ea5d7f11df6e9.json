{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Documents\\\\Projects\\\\time-tracking-app\\\\src\\\\components\\\\Main.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useContext } from \"react\";\nimport React from 'react';\nimport './styles/Main.css';\nimport Projects from './Projects';\nimport Form from './Form';\nimport MyContext from \"../Context/Context\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Main = () => {\n  _s();\n\n  const {\n    projects,\n    setProjects\n  } = useContext(MyContext);\n  console.log(projects);\n  useEffect(() => {\n    const getProjects = async () => {\n      const projectsFromServer = await fetchProjects();\n      setProjects(projectsFromServer);\n    };\n\n    getProjects();\n  }, []); // Fetch Projects\n\n  const fetchProjects = async () => {\n    const res = await fetch('http://localhost:5000/projects');\n    const data = await res.json();\n    return data;\n  }; // Add project\n\n\n  const addProject = async project => {\n    const res = await fetch('http://localhost:5000/projects', {\n      method: 'POST',\n      headers: {\n        'Content-type': 'application/json'\n      },\n      body: JSON.stringify(project)\n    });\n    const data = await res.json();\n    setProjects([...projects, data]); //  const id = Math.floor(Math.random() * 10000) + 1\n    //  const newProject =  { id, ...project }\n    //  setProjects([...projects, newProject])\n  }; // Edit project\n\n\n  const editProject = project => {\n    console.log(\"edit\", project);\n  }; // Delete project\n\n\n  const deleteProject = async id => {\n    await fetch(`http://localhost:5000/projects/${id}`, {\n      method: 'DELETE'\n    });\n    setProjects(projects.filter(project => project.id !== id));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"main-page\",\n    children: [/*#__PURE__*/_jsxDEV(Form, {\n      onAdd: addProject\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Projects, {\n      projects: projects,\n      onDelete: deleteProject,\n      onChange: editProject\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Main, \"hOTcCSW2740lihSe1cwjaLODqJc=\");\n\n_c = Main;\nexport default Main;\n\nvar _c;\n\n$RefreshReg$(_c, \"Main\");","map":{"version":3,"sources":["C:/Users/User/Documents/Projects/time-tracking-app/src/components/Main.js"],"names":["useEffect","useContext","React","Projects","Form","MyContext","Main","projects","setProjects","console","log","getProjects","projectsFromServer","fetchProjects","res","fetch","data","json","addProject","project","method","headers","body","JSON","stringify","editProject","deleteProject","id","filter"],"mappings":";;;AAAA,SAASA,SAAT,EAAoBC,UAApB,QAAsC,OAAtC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,mBAAP;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,OAAOC,SAAP,MAAsB,oBAAtB;;;AAEA,MAAMC,IAAI,GAAG,MAAM;AAAA;;AACjB,QAAM;AAACC,IAAAA,QAAD;AAAWC,IAAAA;AAAX,MAA0BP,UAAU,CAACI,SAAD,CAA1C;AAEAI,EAAAA,OAAO,CAACC,GAAR,CAAYH,QAAZ;AAEAP,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMW,WAAW,GAAG,YAAY;AAC9B,YAAMC,kBAAkB,GAAG,MAAMC,aAAa,EAA9C;AACAL,MAAAA,WAAW,CAACI,kBAAD,CAAX;AACD,KAHD;;AAKAD,IAAAA,WAAW;AACZ,GAPQ,EAON,EAPM,CAAT,CALiB,CAcnB;;AACA,QAAME,aAAa,GAAG,YAAY;AAChC,UAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,gCAAD,CAAvB;AACA,UAAMC,IAAI,GAAG,MAAMF,GAAG,CAACG,IAAJ,EAAnB;AAEA,WAAOD,IAAP;AACD,GALD,CAfmB,CAsBnB;;;AACA,QAAME,UAAU,GAAG,MAAOC,OAAP,IAAmB;AACpC,UAAML,GAAG,GAAG,MAAMC,KAAK,CAAE,gCAAF,EAAoC;AACzDK,MAAAA,MAAM,EAAE,MADiD;AAEzDC,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT,OAFgD;AAKzDC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeL,OAAf;AALmD,KAApC,CAAvB;AAQA,UAAMH,IAAI,GAAG,MAAMF,GAAG,CAACG,IAAJ,EAAnB;AAEAT,IAAAA,WAAW,CAAC,CAAC,GAAGD,QAAJ,EAAcS,IAAd,CAAD,CAAX,CAXoC,CAatC;AACA;AACA;AACC,GAhBD,CAvBmB,CAyCnB;;;AACA,QAAMS,WAAW,GAAIN,OAAD,IAAa;AAC/BV,IAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBS,OAApB;AACD,GAFD,CA1CmB,CA8CnB;;;AACA,QAAMO,aAAa,GAAG,MAAOC,EAAP,IAAc;AAClC,UAAMZ,KAAK,CAAE,kCAAiCY,EAAG,EAAtC,EAAyC;AAClDP,MAAAA,MAAM,EAAE;AAD0C,KAAzC,CAAX;AAIAZ,IAAAA,WAAW,CAACD,QAAQ,CAACqB,MAAT,CAAiBT,OAAD,IAAaA,OAAO,CAACQ,EAAR,KAAeA,EAA5C,CAAD,CAAX;AACD,GAND;;AAQE,sBACE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA,4BACI,QAAC,IAAD;AAAM,MAAA,KAAK,EAAET;AAAb;AAAA;AAAA;AAAA;AAAA,YADJ,eAEI,QAAC,QAAD;AAAU,MAAA,QAAQ,EAAEX,QAApB;AAA8B,MAAA,QAAQ,EAAEmB,aAAxC;AAAuD,MAAA,QAAQ,EAAED;AAAjE;AAAA;AAAA;AAAA;AAAA,YAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAMD,CA7DD;;GAAMnB,I;;KAAAA,I;AA+DN,eAAeA,IAAf","sourcesContent":["import { useEffect, useContext } from \"react\";\r\nimport React from 'react';\r\nimport './styles/Main.css'\r\nimport Projects from './Projects'\r\nimport Form from './Form'\r\nimport MyContext from \"../Context/Context\";\r\n\r\nconst Main = () => {\r\n  const {projects, setProjects} = useContext(MyContext)\r\n\r\n  console.log(projects)\r\n\r\n  useEffect(() => {\r\n    const getProjects = async () => {\r\n      const projectsFromServer = await fetchProjects()\r\n      setProjects(projectsFromServer)\r\n    }\r\n\r\n    getProjects()\r\n  }, [])\r\n\r\n// Fetch Projects\r\nconst fetchProjects = async () => {\r\n  const res = await fetch('http://localhost:5000/projects')\r\n  const data = await res.json()\r\n\r\n  return data\r\n}\r\n\r\n// Add project\r\nconst addProject = async (project) => {\r\n  const res = await fetch ('http://localhost:5000/projects', {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-type': 'application/json'\r\n    },\r\n    body: JSON.stringify(project)\r\n  })\r\n\r\n  const data = await res.json()\r\n\r\n  setProjects([...projects, data])\r\n\r\n//  const id = Math.floor(Math.random() * 10000) + 1\r\n//  const newProject =  { id, ...project }\r\n//  setProjects([...projects, newProject])\r\n}\r\n\r\n// Edit project\r\nconst editProject = (project) => {\r\n  console.log(\"edit\", project)\r\n}\r\n\r\n// Delete project\r\nconst deleteProject = async (id) => {\r\n  await fetch(`http://localhost:5000/projects/${id}`, {\r\n    method: 'DELETE'\r\n  })\r\n\r\n  setProjects(projects.filter((project) => project.id !== id))\r\n}\r\n\r\n  return (\r\n    <div className=\"main-page\">\r\n        <Form onAdd={addProject}/>\r\n        <Projects projects={projects} onDelete={deleteProject} onChange={editProject}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Main\r\n"]},"metadata":{},"sourceType":"module"}